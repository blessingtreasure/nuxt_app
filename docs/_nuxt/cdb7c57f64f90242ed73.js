(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{468:function(t,e,n){var map={"./af":338,"./af.js":338,"./ar":339,"./ar-dz":340,"./ar-dz.js":340,"./ar-kw":341,"./ar-kw.js":341,"./ar-ly":342,"./ar-ly.js":342,"./ar-ma":343,"./ar-ma.js":343,"./ar-sa":344,"./ar-sa.js":344,"./ar-tn":345,"./ar-tn.js":345,"./ar.js":339,"./az":346,"./az.js":346,"./be":347,"./be.js":347,"./bg":348,"./bg.js":348,"./bm":349,"./bm.js":349,"./bn":350,"./bn.js":350,"./bo":351,"./bo.js":351,"./br":352,"./br.js":352,"./bs":353,"./bs.js":353,"./ca":354,"./ca.js":354,"./cs":355,"./cs.js":355,"./cv":356,"./cv.js":356,"./cy":357,"./cy.js":357,"./da":358,"./da.js":358,"./de":359,"./de-at":360,"./de-at.js":360,"./de-ch":361,"./de-ch.js":361,"./de.js":359,"./dv":362,"./dv.js":362,"./el":363,"./el.js":363,"./en-SG":364,"./en-SG.js":364,"./en-au":365,"./en-au.js":365,"./en-ca":366,"./en-ca.js":366,"./en-gb":367,"./en-gb.js":367,"./en-ie":368,"./en-ie.js":368,"./en-il":369,"./en-il.js":369,"./en-nz":370,"./en-nz.js":370,"./eo":371,"./eo.js":371,"./es":372,"./es-do":373,"./es-do.js":373,"./es-us":374,"./es-us.js":374,"./es.js":372,"./et":375,"./et.js":375,"./eu":376,"./eu.js":376,"./fa":377,"./fa.js":377,"./fi":378,"./fi.js":378,"./fo":379,"./fo.js":379,"./fr":380,"./fr-ca":381,"./fr-ca.js":381,"./fr-ch":382,"./fr-ch.js":382,"./fr.js":380,"./fy":383,"./fy.js":383,"./ga":384,"./ga.js":384,"./gd":385,"./gd.js":385,"./gl":386,"./gl.js":386,"./gom-latn":387,"./gom-latn.js":387,"./gu":388,"./gu.js":388,"./he":389,"./he.js":389,"./hi":390,"./hi.js":390,"./hr":391,"./hr.js":391,"./hu":392,"./hu.js":392,"./hy-am":393,"./hy-am.js":393,"./id":394,"./id.js":394,"./is":395,"./is.js":395,"./it":396,"./it-ch":397,"./it-ch.js":397,"./it.js":396,"./ja":398,"./ja.js":398,"./jv":399,"./jv.js":399,"./ka":400,"./ka.js":400,"./kk":401,"./kk.js":401,"./km":402,"./km.js":402,"./kn":403,"./kn.js":403,"./ko":404,"./ko.js":404,"./ku":405,"./ku.js":405,"./ky":406,"./ky.js":406,"./lb":407,"./lb.js":407,"./lo":408,"./lo.js":408,"./lt":409,"./lt.js":409,"./lv":410,"./lv.js":410,"./me":411,"./me.js":411,"./mi":412,"./mi.js":412,"./mk":413,"./mk.js":413,"./ml":414,"./ml.js":414,"./mn":415,"./mn.js":415,"./mr":416,"./mr.js":416,"./ms":417,"./ms-my":418,"./ms-my.js":418,"./ms.js":417,"./mt":419,"./mt.js":419,"./my":420,"./my.js":420,"./nb":421,"./nb.js":421,"./ne":422,"./ne.js":422,"./nl":423,"./nl-be":424,"./nl-be.js":424,"./nl.js":423,"./nn":425,"./nn.js":425,"./pa-in":426,"./pa-in.js":426,"./pl":427,"./pl.js":427,"./pt":428,"./pt-br":429,"./pt-br.js":429,"./pt.js":428,"./ro":430,"./ro.js":430,"./ru":431,"./ru.js":431,"./sd":432,"./sd.js":432,"./se":433,"./se.js":433,"./si":434,"./si.js":434,"./sk":435,"./sk.js":435,"./sl":436,"./sl.js":436,"./sq":437,"./sq.js":437,"./sr":438,"./sr-cyrl":439,"./sr-cyrl.js":439,"./sr.js":438,"./ss":440,"./ss.js":440,"./sv":441,"./sv.js":441,"./sw":442,"./sw.js":442,"./ta":443,"./ta.js":443,"./te":444,"./te.js":444,"./tet":445,"./tet.js":445,"./tg":446,"./tg.js":446,"./th":447,"./th.js":447,"./tl-ph":448,"./tl-ph.js":448,"./tlh":449,"./tlh.js":449,"./tr":450,"./tr.js":450,"./tzl":451,"./tzl.js":451,"./tzm":452,"./tzm-latn":453,"./tzm-latn.js":453,"./tzm.js":452,"./ug-cn":454,"./ug-cn.js":454,"./uk":455,"./uk.js":455,"./ur":456,"./ur.js":456,"./uz":457,"./uz-latn":458,"./uz-latn.js":458,"./uz.js":457,"./vi":459,"./vi.js":459,"./x-pseudo":460,"./x-pseudo.js":460,"./yo":461,"./yo.js":461,"./zh-cn":462,"./zh-cn.js":462,"./zh-hk":463,"./zh-hk.js":463,"./zh-tw":464,"./zh-tw.js":464};function r(t){var e=l(t);return n(e)}function l(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=l,t.exports=r,r.id=468},477:function(t,e,n){var content=n(524);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("35abe710",content,!0,{sourceMap:!1})},478:function(t,e,n){var content=n(526);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("184c24d0",content,!0,{sourceMap:!1})},479:function(t,e,n){var content=n(528);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("4d42afde",content,!0,{sourceMap:!1})},480:function(t,e,n){var content=n(530);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("24243bd2",content,!0,{sourceMap:!1})},481:function(t,e,n){var content=n(532);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(12).default)("42b392f0",content,!0,{sourceMap:!1})},523:function(t,e,n){"use strict";var r=n(477);n.n(r).a},524:function(t,e,n){(e=n(11)(!1)).push([t.i,".flight-title[data-v-3261f9fb]{padding:0 15px;border:1px solid #ddd;background:#f6f6f6;height:38px;line-height:38px;color:#666;font-size:12px;margin-bottom:10px}.flight-title>div[data-v-3261f9fb]{text-align:center}",""]),t.exports=e},525:function(t,e,n){"use strict";var r=n(478);n.n(r).a},526:function(t,e,n){(e=n(11)(!1)).push([t.i,".flight-item[data-v-5570b802]{border:1px solid #ddd;margin-bottom:10px}.flight-item .flight-info[data-v-5570b802]{padding:15px;cursor:pointer}.flight-item .flight-info>div[data-v-5570b802]:first-child,.flight-item .flight-info>div[data-v-5570b802]:last-child{text-align:center}.flight-item .flight-info-center[data-v-5570b802]{padding:0 30px;text-align:center}.flight-item .flight-info-center .flight-airport strong[data-v-5570b802]{display:block;font-size:24px;font-weight:400}.flight-item .flight-info-center .flight-airport span[data-v-5570b802]{font-size:12px;color:#999}.flight-item .flight-info-center .flight-time span[data-v-5570b802]{display:inline-block;padding:10px 0;border-bottom:1px solid #eee;color:#999}.flight-item .flight-info-right .sell-price[data-v-5570b802]{font-size:24px;color:orange;margin:0 2px}.flight-recommend[data-v-5570b802]{background:#f6f6f6;border-top:1px solid #eee;padding:0 20px}.flight-recommend .flight-sell[data-v-5570b802]{border-bottom:1px solid #eee;padding:10px 0}.flight-recommend .flight-sell[data-v-5570b802]:last-child{border-bottom:none}.flight-recommend .flight-sell .flight-sell-left[data-v-5570b802]{font-size:12px}.flight-recommend .flight-sell .flight-sell-left span[data-v-5570b802]{color:green}.flight-recommend .flight-sell .price[data-v-5570b802]{font-size:20px;color:orange}.flight-recommend .flight-sell .choose-button[data-v-5570b802]{text-align:center;color:#666}.flight-recommend .flight-sell .choose-button button[data-v-5570b802]{display:block;width:100%;margin-bottom:5px}",""]),t.exports=e},527:function(t,e,n){"use strict";var r=n(479);n.n(r).a},528:function(t,e,n){(e=n(11)(!1)).push([t.i,".filters[data-v-5e01ee97]{margin-bottom:20px}.filters-top>div[data-v-5e01ee97] .el-select{margin-left:10px}.filter-cancel[data-v-5e01ee97]{margin-top:10px}",""]),t.exports=e},529:function(t,e,n){"use strict";var r=n(480);n.n(r).a},530:function(t,e,n){(e=n(11)(!1)).push([t.i,".statement[data-v-ad6097c8]{border:1px solid #ddd}.statement .statement-list[data-v-ad6097c8]{padding:10px 0}.statement .statement-list>div[data-v-ad6097c8]{text-align:center}.statement .statement-list>div i[data-v-ad6097c8]{display:block;font-size:40px}.statement .statement-list>div span[data-v-ad6097c8]{font-size:12px}.statement .service-tel[data-v-ad6097c8]{height:32px;line-height:32px;padding:0 10px;background:#f6f6f6;font-size:14px}.history[data-v-ad6097c8]{border:1px solid #ddd;padding:10px;margin-top:10px}.history h5[data-v-ad6097c8]{font-size:16px;font-weight:400;padding-bottom:10px;border-bottom:1px solid #eee}.history .history-item[data-v-ad6097c8]{padding:10px 0;font-size:14px;border-bottom:1px solid #eee}.history .history-item[data-v-ad6097c8]:last-child{border:none}.history .history-item .to-from[data-v-ad6097c8]{margin-bottom:5px}.history .history-item p[data-v-ad6097c8]{font-size:12px;color:#666}.history .history-item span[data-v-ad6097c8]{color:#fff;display:block;padding:2px 10px;background:orange;border-radius:4px;font-size:12px;cursor:pointer}",""]),t.exports=e},531:function(t,e,n){"use strict";var r=n(481);n.n(r).a},532:function(t,e,n){(e=n(11)(!1)).push([t.i,".contianer[data-v-7535d456]{width:1000px;margin:20px auto}.flights-content[data-v-7535d456]{width:745px;font-size:14px}.aside[data-v-7535d456]{width:240px}.empty[data-v-7535d456]{text-align:center;line-height:200px;color:#999}",""]),t.exports=e},586:function(t,e,n){"use strict";n.r(e);n(132),n(26),n(27),n(14),n(93);var r=n(65),l={},o=(n(523),n(13)),c=Object(o.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",{staticClass:"flight-title"},[e("el-col",{attrs:{span:5}},[this._v("\n        航空信息\n    ")]),this._v(" "),e("el-col",{attrs:{span:14}},[e("el-row",{attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:12}},[this._v("\n                起飞时间\n            ")]),this._v(" "),e("el-col",{attrs:{span:12}},[this._v("\n                到达时间\n            ")])],1)],1),this._v(" "),e("el-col",{attrs:{span:5}},[this._v("\n        价格\n    ")])],1)}),[],!1,null,"3261f9fb",null).exports,d=(n(131),{data:function(){return{isShow:!1}},props:{data:{type:Object,default:{}}},computed:{rankTime:function(){var t=this.data.arr_time,e=this.data.dep_time,n=t.split(":"),r=e.split(":");n[0]<r[0]&&(n[0]=+n[0]+24);var l=60*n[0]+ +n[1]-(60*r[0]+ +r[1]),o=Math.floor(l/60),c=l%60;return"".concat(o,"小时").concat(c,"分")}}}),f=(n(525),Object(o.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flight-item"},[n("div",{on:{click:function(e){t.isShow=!t.isShow}}},[n("el-row",{staticClass:"flight-info",attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("span",[t._v(t._s(t.data.airline_name)+" ")]),t._v(" "+t._s(t.data.flight_no)+"\n            ")]),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-row",{staticClass:"flight-info-center",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{staticClass:"flight-airport",attrs:{span:8}},[n("strong",[t._v(t._s(t.data.dep_time))]),t._v(" "),n("span",[t._v(t._s(t.data.org_airport_name)+" "+t._s(t.data.org_airport_quay))])]),t._v(" "),n("el-col",{staticClass:"flight-time",attrs:{span:8}},[n("span",[t._v(t._s(t.rankTime))])]),t._v(" "),n("el-col",{staticClass:"flight-airport",attrs:{span:8}},[n("strong",[t._v(t._s(t.data.arr_time))]),t._v(" "),n("span",[t._v(t._s(t.data.dst_airport_name)+" "+t._s(t.data.dst_airport_quay))])])],1)],1),t._v(" "),n("el-col",{staticClass:"flight-info-right",attrs:{span:6}},[t._v("\n                ￥"),n("span",{staticClass:"sell-price"},[t._v(t._s(t.data.base_price/2))]),t._v("起\n            ")])],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"flight-recommend"},[n("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:4}},[t._v("低价推荐")]),t._v(" "),n("el-col",{attrs:{span:20}},t._l(t.data.seat_infos,(function(e,r){return n("el-row",{key:r,staticClass:"flight-sell",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{staticClass:"flight-sell-left",attrs:{span:16}},[n("span",[t._v(t._s(e.name))]),t._v(" | "+t._s(e.supplierName)+"\n                    ")]),t._v(" "),n("el-col",{staticClass:"price",attrs:{span:5}},[t._v("\n                        ￥"+t._s(e.settle_price)+"\n                    ")]),t._v(" "),n("el-col",{staticClass:"choose-button",attrs:{span:3}},[n("nuxt-link",{attrs:{to:{path:"/air/order",query:{id:t.data.id,seat_xid:e.seat_xid}}}},[n("el-button",{attrs:{type:"warning",size:"mini"}},[t._v("\n                            选定\n                            ")])],1),t._v(" "),n("p",[t._v("剩余："+t._s(e.discount))])],1)],1)})),1)],1)],1)])}),[],!1,null,"5570b802",null).exports),h={data:function(){return{airport:"",flightTimes:"",company:"",airSize:"",airSizeList:[{label:"大",value:"L"},{label:"中",value:"M"},{label:"小",value:"S"}]}},props:{data:{type:Object,default:{}}},computed:{filter:function(){var t=this,e=this.data.flights.filter((function(e){var n=!0;if(t.company&&e.airline_name!==t.company&&(n=!1),t.airport&&e.org_airport_name!==t.airport&&(n=!1),t.flightTimes){var time=t.flightTimes.split(","),r=e.dep_time.split(":")[0];(+time[0]>+r||+r>=+time[1])&&(n=!1)}return t.airSize&&e.plane_size!==t.airSize&&(n=!1),n}));return this.$emit("getData",e),""}},methods:{handleFiltersCancel:function(){this.airport="",this.flightTimes="",this.company="",this.airSize=""}}},v=(n(527),Object(o.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filters"},[n("el-row",{staticClass:"filters-top",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:8}},[t._v("\n            单程： \n            "+t._s(t.data.info.departCity)+" - "+t._s(t.data.info.destCity)+"\n            / \n            "+t._s(t.data.info.departDate)+"\n        ")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"起飞机场"},model:{value:t.airport,callback:function(e){t.airport=e},expression:"airport"}},t._l(t.data.options.airport,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"起飞时间"},model:{value:t.flightTimes,callback:function(e){t.flightTimes=e},expression:"flightTimes"}},t._l(t.data.options.flightTimes,(function(t,e){return n("el-option",{key:e,attrs:{label:t.from+":00 - "+t.to+":00",value:t.from+","+t.to}})})),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"航空公司"},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}},t._l(t.data.options.company,(function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"机型"},model:{value:t.airSize,callback:function(e){t.airSize=e},expression:"airSize"}},t._l(t.airSizeList,(function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),1)],1)],1),t._v(" "),n("div",{staticClass:"filter-cancel"},[t._v("\n        筛选：\n        "),n("el-button",{attrs:{type:"primary",round:"",plain:"",size:"mini"},on:{click:t.handleFiltersCancel}},[t._v("\n            撤销\n\t\t")])],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.filter))])],1)}),[],!1,null,"5e01ee97",null).exports),m=(n(64),n(335)),j=n.n(m);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var y={mounted:function(){},methods:{handleClick:function(t){var data=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t),e=j()().format("YYYY-MM-DD"),n=+e.replace(/-/g,"");+data.departDate.replace(/-/g,"")<n&&(data.departDate=e),this.$router.push({path:"/air/flights",query:data})}}};n(529);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var z={data:function(){return{flightsData:{info:{},flights:[],options:{}},flightDataCache:{info:{},flights:[],options:{}},pageIndex:1,pageSize:5,total:0}},components:{FlightsListHead:c,FlightsItem:f,FlightsFilters:v,FlightsAside:Object(o.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside"},[n("div",{staticClass:"statement"},[n("el-row",{staticClass:"statement-list",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont iconweibiaoti-_huabanfuben",staticStyle:{color:"#409EFF"}}),t._v(" "),n("span",[t._v("航协认证")])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont iconbaozheng",staticStyle:{color:"green"}}),t._v(" "),n("span",[t._v("出行保证")])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont icondianhua",staticStyle:{color:"#409EFF"}}),t._v(" "),n("span",[t._v("7x24")])])],1),t._v(" "),n("p",{staticClass:"service-tel"},[t._v("\n            免费客服电话：4006345678转2\n        ")])],1),t._v(" "),n("div",{staticClass:"history"},[n("h5",[t._v("历史查询")]),t._v(" "),t._l(t.$store.state.air.searchList,(function(e,r){return n("div",{key:r,on:{click:function(n){return t.handleClick(e)}}},[n("el-row",{staticClass:"history-item",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("div",{staticClass:"air-info"},[n("div",{staticClass:"to-from"},[t._v(t._s(e.departCity)+" - "+t._s(e.destCity))]),t._v(" "),n("p",[t._v(t._s(e.departDate))])]),t._v(" "),n("span",[t._v("选择")])])],1)}))],2)])}),[],!1,null,"ad6097c8",null).exports},mounted:function(){this.fetchList()},beforeRouteUpdate:function(t,e,n){n(),this.fetchList()},computed:{dataList:function(){return this.flightsData.flights.slice((this.pageIndex-1)*this.pageSize,this.pageIndex*this.pageSize)}},methods:{fetchList:function(){var t=this;this.$axios({url:"/airs",params:this.$route.query}).then((function(e){t.flightsData=e.data,t.flightDataCache=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},e.data),t.total=t.flightsData.total}))},getData:function(t){this.flightsData.flights=t,this.total=t.length},handleSizeChange:function(t){this.pageSize=t,this.pageIndex=1},handleCurrentChange:function(t){this.pageIndex=t}}},w=(n(531),Object(o.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"contianer"},[n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("div",{staticClass:"flights-content"},[n("FlightsFilters",{attrs:{data:t.flightDataCache},on:{getData:t.getData}}),t._v(" "),n("FlightsListHead"),t._v(" "),t.flightsData.flights.length?n("div",[t._l(t.dataList,(function(e,r){return n("FlightsItem",{key:t.pageIndex+"-"+r,attrs:{data:e}})})),t._v(" "),n("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[5,10,15,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2):n("div",{staticClass:"empty"},[t._v("\n                当前没有适合的航班列表。\n            ")])],1),t._v(" "),n("FlightsAside")],1)],1)}),[],!1,null,"7535d456",null));e.default=w.exports}}]);